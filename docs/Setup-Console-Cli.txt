

# Step-by-step: Create console app + add ASP.NET Core framework

---

### 1. Create a new console project


* Open Visual Studio
* Click **Create a new project**
* Choose **Console App** (C#)
* Name it (e.g., `MyConsoleWebApp`)
* Click **Create**

---

### 2. Edit the project file (`MyConsoleWebApp.csproj`)

Open the `.csproj` file and under ItemGroup add Microsoft.AspNetCore.App framework:

<Project Sdk="Microsoft.NET.Sdk">
  <ItemGroup>
    <FrameworkReference Include="Microsoft.AspNetCore.App" />
  </ItemGroup>
</Project>


**Notes:**

* The `<FrameworkReference>` brings in all ASP.NET Core shared runtime libraries (Kestrel, SignalR, Middleware, etc).

---

### 3. Add the NuGet package for hosting support

You need to add the `Microsoft.Extensions.Hosting` package explicitly.

<ItemGroup>
  <PackageReference Include="Microsoft.Extensions.Hosting" Version="8.0.0" />
</ItemGroup>

Close and restart VS application.


appsettings.json
----------------
Be sure each appsettings.json is copied to output directory: Copy if newer
This will make sure the files exist in the bin folder and can be read at runtime.

Create: appsettings.Development.json


Setup Environment
-----------------
Right click project: WebGrapher.Cli

Open Properties -> Debug -> General

Create Environment variable:
Name:   DOTNET_ENVIRONMENT
Value:  Development

Close settings.


Setup Environment Profiles
--------------------------

In VS from the Play button drop down , select: 

    WebGraphger.Cli Debug Properties

Click duplicate to duplicate the profile

Rename the profile to :  WebGraphger.Cli (Development.Cloud)

Edit 

    DOTNET_ENVIRONMENT : Development.Cloud

Save and close changes.

Now from the VS Play button drop down, switch between profiles to pickup oberrides to appSettings using the environment variable.

