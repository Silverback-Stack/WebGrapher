Azure Cosmos DB
---------------

From Azure portal:

Search: Azure Cosmos DB -> Create

Workload: Others

Choose: Azure Cosmos DB for Apache Gremlin -> Create

Workload type: Development/Testing

Subscription: Your Subscription

Respurce Group: webgrapher-resources

Account Name: webgrapher-cosmos-db

Availability Zones: Disable

Locaion: (Europe) UK-South

Capacity: Provisioned throughput

Apply Free Tier Discount: Apply

Limit the total amount of throughput that can be provisioned on this account: True



Click: Review & Create



Create a Databse Graph
----------------------

Go to your Cosmos DB account in the Azure portal.

Open Data Explorer (left sidebar).

Click New Graph.

Database id : WebGrapherDb 

Graph id : WebGraph

Partition key : /graphId

Click OK / Create.


From the left plane choose: Settings -> Keys

Make a note of Gremlin endpoint and primary key.

Insert these into the appsesstings file in the graphing service application.





Create Azure SignalR Service
----------------------------

From Marketplace create a new resource: SignalR Service

Subscription: Default
Resource group: webgrapher-resources
Resource name: webgrapher
Region: UK South
Pricing tier: Free
Service mode: Default (Do not choose serverless - this only works with function app and special adapter - we can try this later when setting up the azure functions)

Click review and create.

Note connection string and add to app settings.



Create Azure Redis Cache
------------------------

From Marketplace create a new resource: Azure Cache for Redis

Subscription: Default

Resource group: webgrapher-resources

Resource name: webgrapher

Region: UK South

Cache: Basic (No SLA)

Cache Size: C0 (250 MB Cache)

	Networking:

		Select: Public Endpoint (For dev/testing only)

	Advanced:

		Enable: Access Keys Authentication (For dev/testing only)

Security Considerations:
Later when deploying to producting we can restore Networking and disable Access Key settings.
Right now we need these enabled to test the caceh from local.


After Redis instance has been created:

Go to Settings -> Authentication -> Access Keys tab

Take note of the Primary Connection String and copy into AppSettings file.




Create Azure Service Bus
------------------------

From Marketplace create a new resource: Service Bus

Subscription: Default

Resource group: webgrapher-resources

Namespace name: webgrapher

Location: UK South

Pricing tier: Standard (Basic does not support Topics)

Review and click Create.


After Service Bus instance has been created:

Go to Settings -> Shared access polities -> RootManagedSharedAccessKey

Take note of the Primary Connection String and copy into AppSettings file.





